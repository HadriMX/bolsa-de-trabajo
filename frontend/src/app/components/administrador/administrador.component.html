<html>
<!-- Aqui empieza el navbar del administrador -->
<nav class="navbar navbar-expand-lg navbar-dark">
  <img class="modal-title" src="../../assets/logo.png" style="margin-left: 1%;" height="40px" width="100px"
    alt="Generic placeholder image">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" (click)="categorias(3)" id="usuarios" style="width: 100%; cursor: pointer; ">Solicitudes de
          Usuarios <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item active">
        <a style="cursor: pointer;" class="nav-link" id="categoriaboton" (click)="categorias(1)">Categorias de
          empresas</a>
      </li>
      <li class="nav-item active">
        <a style="cursor: pointer;" class="nav-link" id="areas" (click)="categorias(2)">Areas de estudio</a>
      </li>
      <li class="nav-item active">
        <a style="cursor: pointer;" id="usuariosactivos" class="nav-link" (click)="categorias(4)">Usuarios
          registrados</a>
      </li>
      <li class="nav-item active ">
        <a class="nav-link" style="width: 100%; color: rgb(160, 152, 230);" (click)="admin()">administrador <span
            class="sr-only">(current) </span></a>
      </li>
    </ul>
    <form class="form-inline my-2 my-lg-0">
      <a id="prueba" style="color:white; margin-left: 10px; cursor: pointer;">Cerrar sesion</a>
    </form>
  </div>
</nav>
<!-- En esta parte comienza el cuerpo de la pagina -->

<body style="background-color: rgb(206, 211, 208); 	position: fixed; width:100%; height:100%; overflow: auto;">
  <!-- En esta parte se divide la pantalla en dos partes -->
  <div class="row" id="contenedor">
    <!-- Segunda parte en que se divide -->
    <div class="col-lg-12" id="contenedor2">
      <div *ngIf="estadoimagen" id="estadoimagen">
        <div class="row">
          <div class="col-lg-10 col-sm-7 col-12" style="margin-left: 7%;">
            <div style="width: 100%; margin-block-start: 7%; background-color: rgb(121, 24, 129);">
              <h5 style="text-align: center;  padding-block-start: 3%;">Registrar Usuario Auxiliar Administrativo</h5>
              <div class="row" style="padding-left:10%;">
                <div class="col-lg-5 col-sm-6 col-10">
                  <h6>Correo electronico:</h6>
                  <input type="text" class="form-control" placeholder="ejemplo@hotmail.com">
                </div>
                <div class="col-lg-5 col-sm-6 col-10">
                  <h6>Nombre:</h6>
                  <input type="text" class="form-control" placeholder="Usuario">
                </div>
              </div>
              <div class="row" style="padding-left: 10%; padding-block-start: 2%;">
                <div class="col-lg-5 col-sm-6 col-10">
                  <h6>Contraseña:</h6>
                  <input type="password" class="form-control">
                </div>
                <div class="col-lg-5 col-sm-6 col-10">
                  <h6>Confirmar contraseña:</h6>
                  <input type="password" class="form-control" placeholder="password">
                </div>
              </div>
              <button class="btnuser form-control">Registrar</button>
              <div style="height: 20px;"></div>
            </div>
          </div>
        </div>
      </div>
      <!-- En esta parte comienza la configuracion de de las categorias de la empresa -->
      <div class="conteiner">
        <div *ngIf="estado === 1">
          <div style="margin-left: 10%; margin-top: 1%; ; ">
            <h5 style="color: black;">Categorias para las empresas</h5>
            <div class="row">
              <div class="col-lg-4 col-sm-4 col-8">
                <div style="margin-right: 40%; margin-top: 4%;  margin-left:1%; width: 100%; ">
                  <mat-form-field>
                    <input matInput [(ngModel)]="nuevaCategoria.nombre_categoria" id="categoria" type="text"
                      placeholder="Nombre de la categoria">
                  </mat-form-field>

                </div>
              </div>
              <div class="col-lg-2 col-sm-2 col-2">
                <button mat-flat-button
                  style="margin-block-start: 8%; margin-left: 1%; border-radius: 18px; background-color: #660551; color:white;"
                  (click)="add_CategoriaEmpresa()">Registrar</button>
              </div>
              <div class="col-lg-4 col-sm-4 col-12">
                <div style="margin-right: 60%; margin-top: 4%;  margin-left:1%; width: 100%;  ">
                  <mat-form-field>
                    <input matInput (keyup)="applyFilterCategorias($event.target.value)" placeholder="Filtrar">
                  </mat-form-field>
                </div>
              </div>
            </div>
            <div class="border border-dark" style="width: 90%; height:350px; background-color:white; overflow-y:scroll">
              <table mat-table [dataSource]="dataSource_Categorias" matSort class="lessons-table mat-elevation-z8">
                <!-- Columna para nombre de la categoria -->
                <ng-container matColumnDef="nombre_empresa">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </th>
                  <td mat-cell *matCellDef="let element"> {{element.nombre_empresa}} </td>
                </ng-container>

                <!-- Columna para estatus -->
                <ng-container matColumnDef="estatus">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Estatus </th>
                  <td mat-cell *matCellDef="let element"> {{element.estatus}} </td>
                </ng-container>

                <ng-container matColumnDef="acciones">
                  <th mat-header-cell *matHeaderCellDef> Acciones </th>
                  <td mat-cell *matCellDef="let element" class="action-link">
                    <button mat-flat-button style="border-radius: 18px; background-color: #99679E; color:white"
                      data-target="#ModificarCAT" data-toggle="modal" data-backdrop="static"
                      (click)="detalleCategoria(element)">Editar</button>

                  </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="ColumnasCategorias"></tr>
                <tr mat-row *matRowDef="let row; columns: ColumnasCategorias;"></tr>
              </table>


            </div>
            <div style="margin-right: 10%; margin-top: 1%; ; ">
              <mat-paginator #PaginatorCategorias [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
            </div>
          </div>
        </div>
      </div>
      <!-- En esta parte comienza la configuracion de areas de estudio -->
      <div class="conteiner">
        <div *ngIf="estado === 2">
          <div style="margin-left: 10%; margin-top: 1%; ; ">
            <h5 style="color: black;">Lista de areas de estudio</h5>
            <div class="row">
              <div class="col-lg-4 col-sm-4 col-8">
                <div style="margin-right: 40%; margin-top: 4%;  margin-left:1%; width: 100%; ">
                  <mat-form-field>
                    <input matInput [(ngModel)]="nuevaArea.nombre" id="area" type="text"
                      placeholder="Nombre de area de estudio">
                  </mat-form-field>

                </div>
              </div>
              <div class="col-lg-2 col-sm-2 col-2">
                <button mat-flat-button
                  style="margin-block-start: 8%; margin-left: 10%; border-radius: 18px; background-color: #660551; color:white;"
                  (click)="add_areaEstudio()">Registrar</button>
              </div>
              <div class="col-lg-4 col-sm-4 col-12">
                <div style="margin-right: 40%; margin-top: 4%;  margin-left:1%; width: 100%;  ">
                  <mat-form-field>
                    <input matInput (keyup)="applyFilterAreas($event.target.value)" placeholder="Filtrar">
                  </mat-form-field>
                </div>
              </div>
            </div>

            <div class="border border-dark" style="width: 90%; height:350px; background-color:white; overflow-y:scroll">

              <table mat-table [dataSource]="dataSource_AreasEstudio" matSort class="lessons-table mat-elevation-z8">
                <!-- Columna para nombre del area de esutdio -->
                <ng-container matColumnDef="nombre">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </th>
                  <td mat-cell *matCellDef="let element"> {{element.nombre}} </td>
                </ng-container>

                <!-- Columna para estatus -->
                <ng-container matColumnDef="estatus">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Estatus </th>
                  <td mat-cell *matCellDef="let element"> {{element.estatus}} </td>
                </ng-container>

                <ng-container matColumnDef="acciones">
                  <th mat-header-cell *matHeaderCellDef> Acciones </th>
                  <td mat-cell *matCellDef="let element" class="action-link">
                    <button mat-flat-button style="border-radius: 18px; background-color: #99679E; color:white"
                      data-target="#areas1" data-toggle="modal" data-backdrop="static"
                      (click)="detalleArea(element)">Editar</button>

                  </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="ColumnasAreas"></tr>
                <tr mat-row *matRowDef="let row; columns: ColumnasAreas;"></tr>
              </table>

            </div>
            <div style="margin-right: 10%; margin-top: 1%; ; ">
              <mat-paginator #PaginatorAreas [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
            </div>
          </div>
        </div>
      </div>
      <!-- En esta parte comienza la configuracion de areas de estudio y las subareas -->

      <!-- En esta parte comienza la verificacion de las solicitudes de los usuario -->
      <div class="container-fluid" style="overflow: auto;">
        <div *ngIf="estado === 3">
          <div style="margin-left: 1%; margin-top: 1%;">
            <h5 style="color: black;">Solicitudes </h5>
            <div *ngFor="let val of datos_solicitud; index as i"
              class="border border-primary border-left-0 border-right-0"
              style="width: 99%; height:50%; margin-block-start: 3%;">
              <h6 style="font-size: 20px;">Nombre del usuario: {{val.nombre}}</h6>
              <div class="row">
                <div class="col-lg-8 col-sm-8 col-8">
                  <div class="row">
                    <div class="col-lg-6 col-sm-6 col-9">
                      <h6 style="margin-block-start: 2%;">Telefono: {{val.telefono}}</h6>
                    </div>
                    <div class="col-lg-5 col-sm-6 col-12">
                      <h6 style="margin-block-start: 2%;">Correo Electronico: {{val.email}}</h6>
                    </div>
                  </div>
                  <div class="row" style="margin-block-start: 1%;">
                    <div class="col-lg-6 col-sm-6 col-9">
                      <h6>Genero: {{val.genero}}</h6>
                    </div>
                    <div class="col-lg-5 col-sm-6 col-12">
                      <h6>Fecha de nacimiento: {{val.fecha_nacimiento}}</h6>
                      <button class="form*control btn" style="margin-block-end: 4%;">Aceptar Solicitud</button>
                    </div>
                  </div>
                </div>
                <div class="col-lg-4 col-sm-4 col-4 d-none d-sm-block">
                  <img style="margin-left: 35%;" src="../../assets/man-user.png" height="75%" width="40%"
                    alt="Generic placeholder image">
                </div>
              </div>
            </div>

            <div style="height:80px; background-color:transparent;">

            </div>
          </div>
        </div>
      </div>
      <!-- En esta parte comienza la configuracion de los usuarios registrados -->
      <div class="conteiner">
        <div *ngIf="estado === 4">
          <div style="margin-left: 10%; margin-top: 1%; ; ">
            <h5 style="color: black;">Usuarios Registrados</h5>
            <div class="row">
              <div class="col-lg-4 col-sm-4 col-5">
                <div style="margin-right: 40%; margin-top: 4%;  margin-left:1%; width: 100%;  ">
                  <mat-form-field>
                    <input matInput (keyup)="applyFilterAreas($event.target.value)" placeholder="Filtrar">
                  </mat-form-field>
                </div>
              </div>
              <!-- <div class="col-lg-4 col-sm-4 col-5">
              <div style="margin-right: 40%; margin-top: 4%;  margin-left:1%; width: 100%;">
                <h6 style="cursor: pointer;">Mostrar auxiliares del administrador</h6>
              </div>
            </div> -->
            </div>

            <div class="border border-dark" style="width: 90%; height:350px; background-color:white; overflow-y:scroll">

              <table mat-table [dataSource]="dataSource_AreasEstudio" matSort class="lessons-table mat-elevation-z8">
                <!-- Columna para nombre del usuario -->
                <ng-container matColumnDef="nombre">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </th>
                  <td mat-cell *matCellDef="let element"> {{element.nombre}} </td>
                </ng-container>

                <!-- Columna para estatus -->
                <ng-container matColumnDef="estatus">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Estatus </th>
                  <td mat-cell *matCellDef="let element"> {{element.estatus}} </td>
                </ng-container>

                <ng-container matColumnDef="acciones">
                  <th mat-header-cell *matHeaderCellDef> Acciones </th>
                  <td mat-cell *matCellDef="let element" class="action-link">
                    <button mat-flat-button style="border-radius: 18px; background-color: #99679E; color:white"
                      data-target="#areas1" data-toggle="modal" data-backdrop="static"
                      (click)="detalleArea(element)">Editar</button>

                  </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="ColumnasAreas"></tr>
                <tr mat-row *matRowDef="let row; columns: ColumnasAreas;"></tr>
              </table>

            </div>
            <div style="margin-right: 10%; margin-top: 1%; ; ">
              <mat-paginator #PaginatorAreas [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
<!--===============================================================================================-->
<!-- Modal de los datos de los usuarios -->
<div class="modal fade" id="datocategoria" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header border border-dark" style="background-color: rgb(87, 4, 87);">
        <h5 id="exampleModalLabel" style="color:white;">Deseas Eliminar esta categoria</h5>
      </div>
      <div class="modal-footer" style="background-color: rgb(87, 4, 87);">
        <button (click)="eliminar([i])" type="button" class="btn btn-primary" data-dismiss="modal">Si</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
      </div>
    </div>
  </div>
</div>

</html>
<!--===============================================================================================-->

<!-- Modal para Modificar Categoria de la empresa -->
<div class="modal fade" id="ModificarCAT" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header border border-dark" style="background-color: rgb(87, 4, 87);">

        <h5 id="exampleModalLabel" style="margin-left:28%; color:white;">Modificar Categoria</h5>
      </div>
      <div class="modal-body">
        <div style="margin-left: 60px;">
          <div class="row">
            <div class="col-lg-6 col-sm-6 col-12">
              <h6 style="margin-block-start: 20px;">Id:</h6>
            </div>
            <div class="col-lg-6 col-sm-6 col-12">
              <input type="text" style="margin-block-start: 20px;" value="{{infoCategoria.id_tipo_empresa}}" disabled>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-6 col-sm-6 col-12">
              <h6 style="margin-block-start: 30px;">Nombre:</h6>
            </div>
            <div class="col-lg-6 col-sm-6 col-12">
              <input type="text" style="margin-block-start: 30px;" value="{{infoCategoria.nombre_empresa}}">
            </div>
          </div>
          <div class="row">
            <div class="col-lg-6 col-sm-6 col-12">
              <h6 style="margin-block-start: 30px;">Estatus</h6>
            </div>
            <div class="col-lg-6 col-sm-6 col-12">
              <input type="text" id="CategoriaMod" style="margin-block-start: 30px;" value="{{infoCategoria.estatus}}">
            </div>
          </div>
          <div class="row">
            <div class="col-md-3">

            </div>
            <div>
              <button (click)="update_categoria()" class="btn btn-danger"
                style="margin-block-start: 30px;">Modificar</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer" style="background-color: rgb(87, 4, 87);">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>



<!-- Modal para Areas de estudio -->
<div class="modal fade" id="areas1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header border border-dark" style="background-color: rgb(87, 4, 87);">

        <h5 id="exampleModalLabel" style="margin-left:28%; color:white;">Modificar Categoria</h5>
      </div>
      <div class="modal-body">
        <div style="margin-left: 10%;">
          <div class="row">
            <div class="col-lg-6 col-sm-6 col-12">
              <h6 style="margin-block-start: 20px;">Id:</h6>
            </div>
            <div class="col-lg-6 col-sm-6 col-12">
              <input type="text" style="margin-block-start: 30px" value="{{infoArea.id_area_estudio}}" disabled>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-6 col-sm-6 col-12">
              <h6 style="margin-block-start: 30px;">Nombre:</h6>
            </div>
            <div class="col-lg-6 col-sm-6 col-12">
              <input type="text" style="margin-block-start: 30px" value="{{infoArea.nombre}}">
            </div>
          </div>
          <div class="row">
            <div class="col-lg-6 col-sm-6 col-12">
              <h6 style="margin-block-start: 30px;">Estatus</h6>
            </div>
            <div class="col-lg-6 col-sm-6 col-12">
              <input type="text" style="margin-block-start: 30px; " value="{{infoArea.estatus}}">
            </div>
          </div>
          <div class="row">
            <div class="col-md-3">

            </div>
            <div>
              <button class="btn btn-danger" style="margin-block-start: 30px;">Modificar</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer" style="background-color: rgb(87, 4, 87);">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>